{% extends "layout.html" %}
{% block body %}
    <html ng-app="BlackHoleApp">
    <body ng-controller="WinkController">

<section class="hero">
<div class="row">
<h1>Devices</h1>

<div data-ng-controller="WinkController" data-ng-init="getResults()">
<div class="col-sm-5 col-sm-offset-1">
    <h1>API DEBUG (Polling Devices)</h1>
      <br>
      {% raw %}
      <div class="well" id="results">
<div ng-repeat="device in devices">
<div ng-if="device.manufacturer_device_model == ge_zigbee_light">
  
</div>

{{device.name}} - {{device.desired_state.powered}}

    </div>


      </div>
      {% endraw %}
    </div>
</div>
{% for device in devices['data'] %}
    <div class="small-3 columns">
    {% if device["manufacturer_device_model"] == "ge_zigbee_light" %}
        {% if device["desired_state"]["powered"] == true %}
             <i class="button round fi fi-lightbulb on"></i><br>

               {% else %}
         <i class="button round fi fi-lightbulb"></i><br>
        {% endif %}
         <b class="text-center">{{ device["name"] }}</b>
    {% else %}
         <b  class="text-center">{{ device["name"] }}</b><br>
    {% endif %}
    </div>
{% endfor %}
</div></section>
<hr>



{% endblock %}